# オーナー権限による操作制限の実装

## 概要

オーナーと契約者の権限を分離し、適切なアクセス制御を実装する。

## タスク一覧

- [ ] 契約者認証機能の実装（契約者名のみ）
- [ ] オーナー認証機能の実装（Google 認証）
- [ ] 契約者ページのアクセス制御実装
- [ ] オーナーダッシュボードのアクセス制御実装
- [ ] RLS（Row Level Security）ポリシーの実装
- [ ] 認証画面の UI 実装
- [ ] エラーハンドリングの実装
- [ ] テスト・動作確認

## 詳細

### 1. 契約者認証

- 契約者は `/contractor/{契約者名}` でアクセス
- 契約者名を入力して簡易認証
- 自分のデータのみ閲覧・操作可能

### 2. オーナー認証

- オーナーは Google 認証でログイン
- `/owner/dashboard` で管理画面にアクセス
- 全契約者のデータを閲覧・操作可能

### 3. アクセス制御

- 契約者: 自分の契約情報・支払い履歴のみ
- オーナー: 全契約者の情報・支払い履歴
- RLS でデータベースレベルでの制御

### 4. セキュリティ

- 契約者名の漏洩対策
- Google 認証の適切な設定
- エラー時の適切なメッセージ表示

## 技術仕様

### 認証方式

- 契約者: 契約者名のみ（簡易認証）
- オーナー: Google OAuth（Supabase Auth）

### データアクセス制御

- RLS ポリシーでデータベースレベル制御
- アプリケーション側でも権限チェック

### UI/UX

- 既存デザインに統一
- 認証エラー時の適切なメッセージ
- ローディング状態の表示
